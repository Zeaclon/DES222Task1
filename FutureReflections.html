<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Beyond Human: The Augmented Future</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/FutureReflections-page.css">
</head>
<body>
<div class="main-container">

    <!-- Banner -->
    <section id="banner" class="banner">
        <h1 class="banner-title">Beyond Human: The Augmented Future</h1>
        <p class="banner-subtitle">Exploring the boundaries between body, technology, and identity</p>
    </section>

    <!-- Word Soup Section -->
    <section class="word-soup-section">
        <div class="word-soup">
            <span class="word" data-key="fear">Fear</span>
            <span class="word" data-key="mind">Mind</span>
            <span class="word" data-key="overpopulation">Over Population</span>
            <span class="word" data-key="superhuman">Super Human</span>
            <span class="word" data-key="economy">Economy</span>
            <span class="word" data-key="utopia">Utopia</span>
            <span class="word" data-key="war">War</span>
            <span class="word" data-key="simuology">Simuology</span>
            <span class="word" data-key="simulation">Simulation</span>
        </div>

        <!-- Blurb Container -->
        <div class="blurb-container">
            <img id="blurb-image" src="" alt="" />
            <div class="blurb-text-wrapper">
                <p id="blurb-text"></p>
            </div>
        </div>
    </section>

</div>

<script type="module">
    import { logInit, logClick, logPageChange } from './js/logger.js';

    // Log page initialization
    logInit();
    logPageChange(window.location.pathname);

    // Blurbs
    const blurbs = {
        fear: { text: "Fear drives humans to innovate or destroy.", image: "./assets/images/fear.png" },
        mind: { text: "The mind is the ultimate frontier.", image: "./assets/images/head.png" },
        overpopulation: { text: "Over Population challenges resources.", image: "./assets/images/overpopulation.png" },
        superhuman: { text: "Super Human capabilities extend beyond biology.", image: "./assets/images/arm.png" },
        economy: { text: "The economy evolves alongside automation.", image: "./assets/images/economy.png" },
        utopia: { text: "Utopia represents the ultimate vision.", image: "./assets/images/man.png" },
        war: { text: "War shifts into cyber realms.", image: "./assets/images/war.png" },
        simuology: { text: "Simuology studies the simulated realities.", image: "./assets/images/simuology.png" },
        simulation: { text: "Simulation experiments model societies.", image: "./assets/images/simulation.png" }
    };

    const wordElements = document.querySelectorAll(".word");
    const blurbText = document.getElementById("blurb-text");
    const blurbImage = document.getElementById("blurb-image");

    // Typing animation with cancellation
    let typingInterval;
    function typeText(text, element) {
        if (typingInterval) clearInterval(typingInterval);
        element.textContent = "";
        let i = 0;
        typingInterval = setInterval(() => {
            element.textContent += text.charAt(i);
            i++;
            if (i >= text.length) {
                clearInterval(typingInterval);
                typingInterval = null;
            }
        }, 30);
    }

    // Scatter words randomly
    const container = document.querySelector(".word-soup");
    const containerWidth = container.offsetWidth;
    const containerHeight = container.offsetHeight;
    wordElements.forEach(word => {
        const x = Math.random() * (containerWidth - 100);
        const y = Math.random() * (containerHeight - 50);
        word.style.left = `${x}px`;
        word.style.top = `${y}px`;
    });

    // Word click events
    wordElements.forEach(word => {
        word.addEventListener("click", () => {
            const key = word.dataset.key;
            const blurb = blurbs[key];
            if (!blurb) return;

            blurbImage.src = blurb.image;
            typeText(blurb.text, blurbText);

            // Log the click using logger.js
            logClick(`Word clicked: ${key}`);
        });
    });
</script>

</body>
</html>